import{r as n,j as t}from"./app-BbUv4MGd.js";function O({title:s,titleId:i,...o},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":i},o),s?n.createElement("title",{id:i},s):null,n.createElement("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 0 1-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 0 1-1.06-1.06l3.75-3.75Zm-3.75 9.75a.75.75 0 0 1 1.06 0L12 17.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-3.75 3.75a.75.75 0 0 1-1.06 0l-3.75-3.75a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const L=n.forwardRef(O);function S({title:s,titleId:i,...o},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":i},o),s?n.createElement("title",{id:i},s):null,n.createElement("path",{fillRule:"evenodd",d:"M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z",clipRule:"evenodd"}))}const w=n.forwardRef(S);function A({title:s,titleId:i,...o},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":i},o),s?n.createElement("title",{id:i},s):null,n.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const B=n.forwardRef(A);function D({className:s=""}){return t.jsxs("svg",{className:`animate-spin -ml-1 mr-3 h-5 w-5 ${s}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function $({children:s,className:i="",isLoading:o=!1,data:l=[],schema:c={},options:g={},uniqueKey:u="id",onFilter:M=()=>null,...T}){const{filters:x,sorting:b=!1}=g,[d,m]=n.useState({}),[h,f]=n.useState(null),F=e=>{f(e)},v=e=>{const r=e.target.name,a=e.target.value;m(j=>{const p=JSON.parse(JSON.stringify(j));return a?p[r]=a:delete p[r],p}),f(null)},y=e=>{if(e===h)return e===h&&t.jsxs("select",{onChange:v,name:e,children:[t.jsx("option",{value:"",children:"(all)"}),Object.keys(x[e]).map(r=>t.jsx("option",{value:r,children:x[e][r]}))]})};function N(e,r,a){return!d[e]&&r[e]&&t.jsxs("th",{children:[t.jsxs("div",{className:"action-container",children:[b&&t.jsx("button",{className:"sorting-container",children:t.jsx(L,{className:"w-4 h-4"})}),(a==null?void 0:a[e])&&t.jsx("button",{className:"filter-container",onClick:j=>F(e),children:d[e]?t.jsx(w,{}):t.jsx(w,{})})]}),t.jsx("span",{children:e}),h&&y(e)]},e)}function R(){switch(typeof s){case"function":return l.map((e,r)=>s(e,r));default:return l.map((e,r)=>{const a=typeof c[u]=="function"?c[u](e,r):e[u];return t.jsx("tr",{children:Object.keys(c).map(j=>C(j,e,r))},a)})}}const C=(e,r,a)=>{if(!d[e])switch(typeof c[e]){case"function":return t.jsx("td",{children:c[e](r,a)},e);default:return t.jsx("td",{children:r[c[e]]},e)}},E=()=>t.jsx("div",{className:"filters",children:Object.keys(x).map(e=>d[e]&&t.jsxs("label",{children:[t.jsxs("span",{children:[e,": ",x[e][d[e]]]}),t.jsx("button",{className:"text-sm",name:e,value:"",onClick:v,children:t.jsx(B,{})})]},e))});function k(){if(o)return t.jsx("tr",{children:t.jsx("td",{colSpan:"100%",className:"loading",children:t.jsx("div",{className:"spinner-backdrop",children:t.jsx("div",{className:"spinner-wrapper",children:t.jsx(D,{})})})})});if(!(l!=null&&l.length))return t.jsx("tr",{children:t.jsx("td",{colSpan:"100%",className:"no-data",children:"(no data)"})})}return t.jsxs("table",{className:"DataTable",children:[d&&t.jsx("caption",{children:E()}),t.jsx("thead",{children:t.jsx("tr",{children:Object.keys(c).map(e=>N(e,c,x))})}),t.jsx("tbody",{children:R()}),t.jsx("tfoot",{children:k()})]})}export{$ as D};
