import{r as i,j as r}from"./app-CpkJJ9s6.js";/* empty css                                */import{L as J,f as U,c as $}from"./format-R2ps2Vo5.js";import{A as H}from"./AuthenticatedLayout-BiuD7Lfd.js";import{p as E}from"./parseMySqlDate-B5Sr_pD9.js";import{T as L}from"./Tooltip-D0G4TxKS.js";import"./ApplicationLogo-DIwUf7Jn.js";import"./ResponsiveNavLink-BntpqgbO.js";import"./transition-BEs4BxHi.js";import"./NavLink-CIfpFJL4.js";/* empty css                     *//* empty css                */function I({title:o,titleId:a,...l},d){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":a},l),o?i.createElement("title",{id:a},o):null,i.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const N=i.forwardRef(I);function P({title:o,titleId:a,...l},d){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":a},l),o?i.createElement("title",{id:a},o):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"}))}const Z=i.forwardRef(P);function Q({title:o,titleId:a,...l},d){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":a},l),o?i.createElement("title",{id:a},o):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const V=i.forwardRef(Q);function X({title:o,titleId:a,...l},d){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":a},l),o?i.createElement("title",{id:a},o):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const q=i.forwardRef(X);function G({children:o,className:a="",data:l=null,loadData:d=()=>Promise.resolve(),onFiltersUpdate:p=()=>Promise.resolve(),schema:u={},options:{filters:c={},sorting:j=!1,toggleShow:x={}}={},uniqueKey:f="id"}){const[y,e]=i.useState(l??[]),[t,g]=i.useState({}),[v,k]=i.useState(null),[_,C]=i.useState([]),[w,F]=i.useState(null);i.useEffect(()=>{l===null&&(k(!0),d().then(n=>e(n??[])).finally(()=>k(!1)))},[]),i.useEffect(()=>{const n={};Object.keys(t).forEach(s=>{n[c[s].key]=t[s]}),k(!0),p(n).then(s=>e(s)).finally(()=>k(!1))},[t]);const O=n=>{const s=n.currentTarget.name,h=n.currentTarget.value;C(b=>{const m=JSON.parse(JSON.stringify(b));return h?m.push(s):m.splice(m.indexOf(s),1),m})},M=n=>{F(w===n?null:n)},S=n=>{const s=n.currentTarget.name,h=n.currentTarget.value;g(b=>{const m=JSON.parse(JSON.stringify(b));return h?m[s]=h:delete m[s],m}),F(null)},R=n=>{if(n===w)return n===w&&r.jsxs("select",{onChange:S,name:n,children:[r.jsx("option",{value:"",children:"(all)"}),Object.keys(c[n].options).sort((s,h)=>c[n].options[s]>c[n].options[h]).map(s=>r.jsx("option",{value:s,children:c[n].options[s]},s))]})};function T(n){return!_.includes(n)&&!t[n]&&u[n]&&r.jsxs("th",{className:n.replaceAll(" ",""),children:[r.jsxs("div",{className:"cell-container",children:[r.jsxs("div",{className:"action-container",children:[j&&r.jsx("button",{className:"sorting",onClick:s=>void 0,children:r.jsx(Z,{})}),x.includes(n)&&r.jsx("button",{className:"hide",name:n,value:"1",onClick:O,children:r.jsx(V,{})}),(c==null?void 0:c[n])&&r.jsx("button",{className:"filter",onClick:s=>M(n),children:r.jsx(q,{})})]}),r.jsx("span",{className:"heading-container",children:n})]}),w&&R(n)]},n)}function W(n){switch(typeof o){case"function":return n.map((s,h)=>o(s,h));default:return n.map((s,h)=>{const b=typeof u[f]=="function"?u[f](s,h):s[f];return r.jsx("tr",{children:Object.keys(u).map(m=>D(m,s,h))},b)})}}const D=(n,s,h)=>{if(!(t[n]||_.includes(n)))switch(typeof u[n]){case"function":return r.jsx("td",{children:u[n](s,h)},n);default:return r.jsx("td",{children:s[u[n]]},n)}},B=()=>r.jsxs("div",{className:"filters",children:[Object.keys(c).map(n=>t[n]&&r.jsxs("label",{children:[r.jsxs("span",{children:[n,":",r.jsx("wbr",{})," ",c[n].options[t[n]]]}),r.jsx("button",{className:"text-sm",name:n,value:"",onClick:S,children:r.jsx(N,{})})]},n)),_.map(n=>r.jsxs("label",{children:[r.jsxs("span",{children:[n,":",r.jsx("wbr",{})," (hidden)"]}),r.jsx("button",{className:"text-sm",name:n,value:"",onClick:O,children:r.jsx(N,{})})]},n))]});function z(){if(!(y!=null&&y.length))return r.jsx("tr",{children:r.jsx("td",{colSpan:"100%",className:"no-data",children:"(no data)"})})}function Y(n){}return r.jsxs("div",{className:`DataTableWithOperations ${a}`,children:[r.jsxs("table",{children:[r.jsxs("thead",{children:[r.jsx("tr",{className:"caption",children:r.jsx("th",{colSpan:Object.keys(u).length,children:B()})}),r.jsx("tr",{children:Object.keys(u).map(n=>T(n))})]}),r.jsx("tbody",{children:W(y)}),r.jsx("tfoot",{children:z()})]}),v?r.jsx("div",{className:"spinner-backdrop",children:r.jsx("div",{className:"spinner-wrapper",children:r.jsx(J,{})})}):null]})}function A(o){return U(o,$.displayDayMonthFormat)}function ue({fishLimits:o,locations:a,fishCategories:l,fishes:d,boundaries:p,watersCategories:u,tidalCategories:c,waters:j,fishingMethods:x}){const f=e=>axios.post(route("fishLimits.data"),{filters:e}).then(t=>t.data.fishLimits).catch(t=>{console.error("Error:",t.response?t.response.data:t.message)}),y=e=>{var v;const t="May only be angled by artificial fly or baited barbless hook with a single point",g=((v=x[e.fishing_method_id])==null?void 0:v.name)??"(all)";return g===t?r.jsx(L,{message:t,children:"Fly Fishing"}):g};return r.jsx(H,{children:r.jsx("div",{className:"FishLimits",children:r.jsx("div",{className:"box",children:r.jsx(G,{className:"sticky-headers",data:o,loadData:f,onFiltersUpdate:f,uniqueKey:"id",schema:{ID:e=>e.id,Location:e=>{var t;return((t=a[e.location_id])==null?void 0:t.name)??"(all)"},"Fish Category":e=>{var t;return((t=l[e.fish_category_id])==null?void 0:t.name)??"(all)"},Fish:e=>{var t;return((t=d[e.fish_id])==null?void 0:t.name)??"(all)"},Boundary:e=>{var t;return((t=p[e.boundary_id])==null?void 0:t.name)??"(all)"},"Waters Category":e=>{var t;return((t=u[e.waters_category_id])==null?void 0:t.name)??"(all)"},Tidal:e=>{var t;return((t=c[e.tidal_category_id])==null?void 0:t.name)??"(all)"},Waterbody:e=>{var t;return((t=j[e.water_id])==null?void 0:t.name)??"(all)"},"Water Stretch":e=>e.water_description?r.jsx(L,{message:e.water_description,children:" * "}):null,"Fishing Method":y,Note:e=>e.note,Limit:e=>e.note?r.jsxs(L,{message:e.note,children:[e.bag_limit??"Unlimited","*"]}):e.bag_limit??"Unlimited","Min Size":e=>e.minimum_size??"N/A","Max Size":e=>e.maximum_size??"N/A","Season Start":e=>A(E(e.season_start)),"Sesason End":e=>A(E(e.season_end))},options:{toggleShow:["Water Stretch","Note"],filters:{Location:{key:"location_id",options:Object.keys(a).reduce((e,t)=>(e[a[t].id]=a[t].name,e),{})},"Fish Category":{key:"fish_category_id",options:Object.keys(l).reduce((e,t)=>(e[l[t].id]=l[t].name,e),{})},Fish:{key:"fish_id",options:Object.keys(d).reduce((e,t)=>(e[d[t].id]=d[t].name,e),{})},Boundary:{key:"boundary_id",options:Object.keys(p).reduce((e,t)=>(e[p[t].id]=p[t].name,e),{})},"Waters Category":{key:"waters_category_id",options:Object.keys(u).reduce((e,t)=>(e[u[t].id]=u[t].name,e),{})},Tidal:{key:"tidal_id",options:Object.keys(c).reduce((e,t)=>(e[c[t].id]=c[t].name,e),{})},Waterbody:{key:"water_id",options:Object.keys(j).reduce((e,t)=>(e[j[t].id]=j[t].name,e),{})},"Fishing Method":{key:"fishing_method_id",options:Object.keys(x).reduce((e,t)=>(e[x[t].id]=x[t].name,e),{})}}}})})})})}export{ue as default};
