import{R as a,j as n,b as p}from"./app-GsjunD-S.js";import{F as N}from"./HomeIcon-DydJbLpr.js";const C=a.createContext();function I({config:e,children:r={}}){const[t,u]=a.useState(e.breadCrumb),[s,m]=a.useState((e==null?void 0:e.defaultViewName)??null),[l,c]=a.useState(null),[i,v]=a.useState(!0),x={view:{viewName:s,viewParams:l},setView:(o,w)=>{m(o),c(w),v(!0)},breadCrumb:t,updateBreadCrumb:(o,w=null)=>{u(f=>{let d=JSON.parse(JSON.stringify(f));return d=d.slice(0,o),d[o]=w,d})},loading:i,setLoading:v};return n.jsx(C.Provider,{value:x,children:r})}function S({defaultViewName:e,children:r}){const t=b();return j(r,t)}function L(){const e=b();return!(e!=null&&e.breadCrumb)||e.breadCrumb.length===0?null:n.jsxs("div",{className:`BreadCrumb depth-${e.breadCrumb.length}`,children:[n.jsx(p,{href:"/",className:"icon",children:n.jsx(N,{})}),e.breadCrumb.map((r,t)=>n.jsx("div",{children:n.jsx(V,{name:r.name,params:(r==null?void 0:r.params)||null,breadCrumb:{position:t},children:r.content})}))]})}function V({name:e,params:r={},breadCrumb:t=null,children:u,onClick:s,...m}){const l=b(),c=()=>{l.setView(e,r),t&&l.updateBreadCrumb(t.position,{name:e,params:r,content:t.label||u})};return n.jsx("button",{className:"InternalLink",onClick:i=>{s==null||s(i),i.isDefaultPrevented()||c()},...m,children:u})}function j(e,r){return r.view.viewName?e[r.view.viewName](r.view.viewParams??{}):null}const b=()=>a.useContext(C);export{L as BreadCrumb,V as InternalLink,I as InternalRouterProvider,S as default,b as useInternalRouting};
