import{R as a,j as n,b as x}from"./app-CpkJJ9s6.js";import{F as N}from"./HomeIcon-VE8V8Egm.js";const v=a.createContext();function I({config:e,children:r={}}){const[t,s]=a.useState(e.breadCrumb),[u,m]=a.useState((e==null?void 0:e.defaultViewName)??null),[l,c]=a.useState(null),[i,C]=a.useState(!0),p={view:{viewName:u,viewParams:l},setView:(o,w)=>{m(o),c(w),C(!0)},breadCrumb:t,updateBreadCrumb:(o,w=null)=>{s(f=>{let d=JSON.parse(JSON.stringify(f));return d=d.slice(0,o),d[o]=w,d})},setBreadCrumb:s,loading:i,setLoading:C};return n.jsx(v.Provider,{value:p,children:r})}function S({defaultViewName:e,children:r}){const t=b();return j(r,t)}function L(){const e=b();return!(e!=null&&e.breadCrumb)||e.breadCrumb.length===0?null:n.jsxs("div",{className:`BreadCrumb depth-${e.breadCrumb.length}`,children:[n.jsx(x,{href:"/",className:"icon",children:n.jsx(N,{})}),e.breadCrumb.map((r,t)=>n.jsx(V,{name:r.name,params:(r==null?void 0:r.params)||null,breadCrumb:{position:t},children:n.jsx("span",{children:r.content})},t))]})}function V({name:e,params:r={},breadCrumb:t=null,children:s,onClick:u,...m}){const l=b(),c=()=>{l.setView(e,r),t&&l.updateBreadCrumb(t.position,{name:e,params:r,content:t.label||s})};return n.jsx("button",{className:"InternalLink",onClick:i=>{u==null||u(i),i.isDefaultPrevented()||c()},...m,children:s})}function j(e,r){return r.view.viewName?e[r.view.viewName](r.view.viewParams??{}):null}const b=()=>a.useContext(v);export{L as BreadCrumb,V as InternalLink,I as InternalRouterProvider,S as default,b as useInternalRouting};
