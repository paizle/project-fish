import{R as n,j as a}from"./app-CnQdRlOU.js";const C=n.createContext();function R({config:e,children:t={}}){const[r,u]=n.useState(e.breadCrumb),[o,s]=n.useState((e==null?void 0:e.defaultViewName)??null),[d,w]=n.useState(null),[v,b]=n.useState(!0),p={view:{viewName:o,viewParams:d},setView:(l,c)=>{s(l),w(c),b(!0)},breadCrumb:r,updateBreadCrumb:(l,c)=>{u(x=>{let i=JSON.parse(JSON.stringify(x));return i=i.slice(0,l),i[l]=c,i})},loading:v,setLoading:b};return a.jsx(C.Provider,{value:p,children:t})}function h({defaultViewName:e,children:t}){const r=m();return N(t,r)}function I(){const e=m();return!(e!=null&&e.breadCrumb)||e.breadCrumb.length===0?null:a.jsx("div",{className:`BreadCrumb depth-${e.breadCrumb.length}`,children:e.breadCrumb.map((t,r)=>a.jsx("div",{children:a.jsx(V,{name:t.name,params:(t==null?void 0:t.params)||null,breadCrumb:{position:r},children:t.content})}))})}function V({name:e,params:t={},breadCrumb:r=null,children:u,...o}){const s=m(),d=()=>{s.setView(e,t),r&&s.updateBreadCrumb(r.position,{name:e,params:t,content:r.label||u})};return a.jsx("button",{className:"InternalLink",onClick:w=>d(),...o,children:u})}function N(e,t){return t.view.viewName?e[t.view.viewName](t.view.viewParams??{}):null}const m=()=>n.useContext(C);export{I as BreadCrumb,V as InternalLink,R as InternalRouterProvider,h as default,m as useInternalRouting};
