import{R as s,j as t}from"./app-DOLQPbwd.js";import{useInternalRouting as j,InternalLink as p}from"./InternalRouter-CRyjjvNh.js";function b({children:w,id:u,route:r,...R}){const[d,h]=s.useState([]),[a,i]=s.useState([]),[n,m]=s.useState(""),o=s.useRef(null),f=e=>{const l=e.target.value;if(m(l),console.log(l),l.length){const x=d.filter(c=>c.water?c.water.name.toLowerCase().includes(l.trim().toLowerCase()):!1);i(x)}else i([])};s.useEffect(()=>{o.current&&n&&a.length},[a,n]),s.useEffect(()=>{console.log({route:r}),axios.get(r(u,"")).then(e=>{h(e.data.limits??[])})},[]);const g=j();return s.useEffect(()=>{g.setLoading(!1)},[]),t.jsx("div",{className:"Location",children:t.jsxs("div",{className:"autocomplete",children:[t.jsx("header",{children:t.jsxs("label",{children:[t.jsx("span",{children:"Search by Waters"}),t.jsx("input",{onChange:f,placeholder:'hint: Try searching "lake" or "stream"'})]})}),t.jsx("ul",{ref:o,className:`results ${a.length||n?"has-results":null}`,children:a.length?a.map(e=>e!=null&&e.water?t.jsx("li",{children:t.jsx(p,{name:"water",params:{id:e.water.id},breadCrumb:{position:2,label:e.water.name},children:e.water.name})}):null):n?t.jsx("div",{children:"(no results)"}):null})]})})}export{b as default};
