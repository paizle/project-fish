import{r as s,j as t}from"./app-CpkJJ9s6.js";import{useInternalRouting as j,InternalLink as w}from"./InternalRouter-C3n-VHum.js";import"./HomeIcon-VE8V8Egm.js";function v({children:R,id:f,route:i,...E}){const[d,h]=s.useState([]),[a,c]=s.useState([]),[n,m]=s.useState(""),r=s.useRef(null),o=s.useRef(null);s.useEffect(()=>{r.current&&r.current.focus()},[r.current]);const x=e=>{const l=e.target.value;if(m(l),console.log(l),l.length){const p=d.filter(u=>u.water?u.water.name.toLowerCase().includes(l.trim().toLowerCase()):!1);c(p)}else c([])};s.useEffect(()=>{o.current&&n&&a.length},[a,n]),s.useEffect(()=>{console.log({route:i}),axios.get(i(f,"")).then(e=>{h(e.data.limits??[])})},[]);const g=j();return s.useEffect(()=>{g.setLoading(!1)},[]),t.jsx("div",{className:"Location",children:t.jsxs("div",{className:"autocomplete",children:[t.jsx("header",{children:t.jsxs("label",{children:[t.jsx("span",{children:"Search by Waters"}),t.jsx("input",{ref:r,onChange:x,placeholder:'hint: Try searching "lake" or "stream"'})]})}),t.jsx("ul",{ref:o,className:`results ${a.length||n?"has-results":null}`,children:a.length?a.map(e=>e!=null&&e.water?t.jsx("li",{children:t.jsx(w,{name:"water",params:{id:e.water.id},breadCrumb:{position:2,label:e.water.name},children:e.water.name})}):null):n?t.jsx("div",{children:"(no results)"}):null})]})})}export{v as default};
