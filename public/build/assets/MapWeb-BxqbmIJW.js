import{R as l,j as r}from"./app-EiiXFY4f.js";import{useInternalRouting as m,InternalLink as h}from"./InternalRouter-DPVGOdF0.js";import{p as a,N as p}from"./NewBrunswickMap-ClPtP1c8.js";function v({containerRef:u=null,onMouseEnterLocation:o,onMouseLeaveLocation:i,onClickLocation:c}){const s=u||l.createRef(null);return l.useEffect(()=>{if(s.current){const d=s.current.querySelector("svg");Object.keys(a).forEach(e=>{const t=d.querySelector("#"+e);t.classList.add("location"),o&&t.addEventListener("mouseenter",n=>{console.log(e),o(n,e)}),i&&t.addEventListener("mouseleave",n=>i(n,e)),c&&t.addEventListener("click",n=>c(n,e))})}},[s.current]),r.jsx(p,{containerRef:s})}function R({locations:u}){const o=l.useRef(null),i=l.useRef(null),c=u.reduce((e,t)=>(e[t.name]=t,e),{}),s=e=>{const t=a[e];return c[t]},d=m();return l.useEffect(()=>{d.setLoading(!1)},[]),r.jsxs("div",{className:"MapWeb",children:[r.jsx(v,{containerRef:o,onMouseEnterLocation:(e,t)=>{i.current.querySelector(`[data-path-id=${t}]`).classList.add("highlighted"),console.log("enter")},onMouseLeaveLocation:(e,t)=>{i.current.querySelector(`[data-path-id=${t}]`).classList.remove("highlighted"),console.log("leave")},onClickLocation:(e,t)=>{i.current&&(i.current.querySelector(`[data-path-id=${t}]`).querySelector(".InternalLink").click(),console.log("click"))}}),r.jsx("div",{className:"locations",ref:i,children:r.jsx("ul",{children:Object.keys(a).map(e=>{var t;return r.jsx("li",{"data-path-id":e,children:r.jsxs(h,{name:"location",params:{id:s(e).id},breadCrumb:{position:1,label:c==null?void 0:c[a[e]].name},onMouseEnter:n=>{o.current&&o.current.querySelector(`[id=${e}]`).classList.add("active")},onMouseLeave:n=>{o.current&&o.current.querySelector(`[id=${e}]`).classList.remove("active")},children:[r.jsx("h3",{children:a[e]}),r.jsx("em",{children:(t=c==null?void 0:c[a[e]])==null?void 0:t.description})]})},e)})})})]})}export{R as default};
