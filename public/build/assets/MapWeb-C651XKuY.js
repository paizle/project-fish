import{R as l,j as a}from"./app-DGWc41VG.js";import{useInternalRouting as m,InternalLink as p}from"./InternalRouter-B7Z8fPuZ.js";import{p as s,N as v}from"./NewBrunswickMap-DfQUn15Y.js";function L({containerRef:f=null,onMouseEnterLocation:c,onMouseLeaveLocation:i,onClickLocation:n}){const o=f||l.createRef(null);return l.useEffect(()=>{if(o.current){const d=o.current.querySelector("svg");Object.keys(s).forEach(t=>{const e=d.querySelector("#"+t);e.classList.add("location"),c&&e.addEventListener("mouseenter",r=>{console.log(t),c(r,t)}),i&&e.addEventListener("mouseleave",r=>i(r,t)),n&&e.addEventListener("click",r=>n(r,t))})}},[o.current]),a.jsx(v,{containerRef:o})}function S({locations:f}){const c=l.useRef(null),i=l.useRef(null),n=f.reduce((t,e)=>(t[e.name]=e,t),{}),o=t=>{const e=s[t];return n[e]},d=m();return l.useEffect(()=>{d.setLoading(!1)},[]),a.jsxs("div",{className:"MapWeb",children:[a.jsx(L,{containerRef:c,onMouseEnterLocation:(t,e)=>{i.current.querySelector(`[data-path-id=${e}]`).classList.add("highlighted")},onMouseLeaveLocation:(t,e)=>{i.current.querySelector(`[data-path-id=${e}]`).classList.remove("highlighted")},onClickLocation:(t,e)=>{i.current&&i.current.querySelector(`[data-path-id=${e}]`).querySelector(".InternalLink").click()}}),a.jsx("div",{className:"locations",ref:i,children:a.jsx("ul",{children:Object.keys(s).map(t=>{var e,r;return a.jsx("li",{"data-path-id":t,children:a.jsxs(p,{onClick:h=>{var u;if(!((u=n==null?void 0:n[s[t]])!=null&&u.hasData))return h.preventDefault(),!1},name:"location",params:{id:o(t).id},breadCrumb:{position:1,label:n==null?void 0:n[s[t]].name},onMouseEnter:h=>{c.current&&c.current.querySelector(`[id=${t}]`).classList.add("active")},onMouseLeave:h=>{c.current&&c.current.querySelector(`[id=${t}]`).classList.remove("active")},children:[a.jsx("h3",{children:s[t]}),a.jsxs("em",{children:[!((e=n==null?void 0:n[s[t]])!=null&&e.hasData)&&a.jsx("strong",{children:"(no data)"}),(r=n==null?void 0:n[s[t]])==null?void 0:r.description]})]})},t)})})})]})}export{S as default};
